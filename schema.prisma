// This file is automatically generated by Keystone, do not modify it manually.
// Modify your Keystone config when you want to change this.

datasource postgresql {
  url               = env("DATABASE_URL")
  shadowDatabaseUrl = env("SHADOW_DATABASE_URL")
  provider          = "postgresql"
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id                    String    @id @default(cuid())
  name                  String    @default("")
  email                 String    @unique @default("")
  password              String
  isAdmin               Boolean   @default(false)
  isSuperAdmin          Boolean   @default(false)
  createdAt             DateTime? @default(now())
  from_Source_createdBy Source[]  @relation("Source_createdBy")
  from_Log_updated_by   Log[]     @relation("Log_updated_by")
}

model SourceType {
  id                      String    @id @default(cuid())
  name                    String    @default("")
  createdAt               DateTime? @default(now())
  from_Source_source_type Source[]  @relation("Source_source_type")
}

model Region {
  id                 String    @id @default(cuid())
  name               String    @default("")
  createdAt          DateTime? @default(now())
  from_Source_region Source[]  @relation("Source_region")
}

model Language {
  id                   String    @id @default(cuid())
  name                 String    @default("")
  createdAt            DateTime? @default(now())
  from_Source_language Source[]  @relation("Source_language")
}

model Country {
  id                  String    @id @default(cuid())
  name                String    @unique @default("")
  createdAt           DateTime? @default(now())
  from_Source_country Source[]  @relation("Source_country")
}

model Source {
  id             String      @id @default(cuid())
  authority_name String      @default("")
  url            String      @default("")
  country        Country?    @relation("Source_country", fields: [countryId], references: [id])
  countryId      String?     @map("country")
  region         Region?     @relation("Source_region", fields: [regionId], references: [id])
  regionId       String?     @map("region")
  coverage       Coverage?   @relation("Source_coverage", fields: [coverageId], references: [id])
  coverageId     String?     @map("coverage")
  type           Type?       @relation("Source_type", fields: [typeId], references: [id])
  typeId         String?     @map("type")
  source_type    SourceType? @relation("Source_source_type", fields: [source_typeId], references: [id])
  source_typeId  String?     @map("source_type")
  language       Language?   @relation("Source_language", fields: [languageId], references: [id])
  languageId     String?     @map("language")
  format         Format?     @relation("Source_format", fields: [formatId], references: [id])
  formatId       String?     @map("format")
  comment        String      @default("")
  cost           Cost?       @relation("Source_cost", fields: [costId], references: [id])
  costId         String?     @map("cost")
  keys           SourceKey[] @relation("Source_keys")
  createdAt      DateTime?   @default(now())
  to_crawler     Boolean     @default(false) @map("to_crawler")
  to_deo         Boolean     @default(false) @map("to_deo")
  createdBy      User?       @relation("Source_createdBy", fields: [createdById], references: [id])
  createdById    String?     @map("created_by")

  @@index([countryId])
  @@index([regionId])
  @@index([coverageId])
  @@index([typeId])
  @@index([source_typeId])
  @@index([languageId])
  @@index([formatId])
  @@index([costId])
  @@index([createdById])
}

model Coverage {
  id                   String    @id @default(cuid())
  name                 String    @default("")
  createdAt            DateTime? @default(now())
  from_Source_coverage Source[]  @relation("Source_coverage")
}

model Type {
  id               String    @id @default(cuid())
  name             String    @default("")
  createdAt        DateTime? @default(now())
  from_Source_type Source[]  @relation("Source_type")
}

model Format {
  id                 String    @id @default(cuid())
  name               String    @default("")
  createdAt          DateTime? @default(now())
  from_Source_format Source[]  @relation("Source_format")
}

model SourceKey {
  id               String    @id @default(cuid())
  original_key     String    @default("")
  map_to           String    @default("")
  createdAt        DateTime? @default(now())
  from_Source_keys Source[]  @relation("Source_keys")
}

model Cost {
  id               String    @id @default(cuid())
  name             String    @default("")
  createdAt        DateTime? @default(now())
  from_Source_cost Source[]  @relation("Source_cost")
}

model Log {
  id             String    @id @default(cuid())
  operation      String    @default("")
  previous_data  String    @default("")
  updated_data   String    @default("")
  updated_values String    @default("")
  updated_by     User?     @relation("Log_updated_by", fields: [updated_byId], references: [id])
  updated_byId   String?   @map("updated_by")
  createdAt      DateTime? @default(now())

  @@index([updated_byId])
}
